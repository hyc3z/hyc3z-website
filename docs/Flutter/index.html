<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Flutter/flutter">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v0.0.0-5434">
<title data-rh="true">Flutter Basics | Hyc3z&#x27;s blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hyc3z.github.io/docs/Flutter/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Flutter Basics | Hyc3z&#x27;s blog"><meta data-rh="true" name="description" content="Update 2023/03/18"><meta data-rh="true" property="og:description" content="Update 2023/03/18"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hyc3z.github.io/docs/Flutter/"><link data-rh="true" rel="alternate" href="https://hyc3z.github.io/docs/Flutter/" hreflang="en"><link data-rh="true" rel="alternate" href="https://hyc3z.github.io/docs/Flutter/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hyc3z&#39;s blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hyc3z&#39;s blog Atom Feed">



<link rel="stylesheet" href="/katex/katex.min.css" crossorigin="anonymous">
<script src="/js/midiplayer.js"></script><link rel="stylesheet" href="/assets/css/styles.3ea07700.css">
<script src="/assets/js/runtime~main.1d060e17.js" defer="defer"></script>
<script src="/assets/js/main.57da0f39.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Hyc3z&#x27;s blog</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hyc3z" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Hyc3z<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Ancient Egyptian</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Ancient Egyptian/egyptian">Ancient Egyptian</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Artificial Intelligence</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Artificial Intelligence/artificial_intelligence_in_finance">Artificial Intelligence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Artificial Intelligence/deep_learning">Deep Learning from Scratch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Artificial Intelligence/interpretable_ai">Interpretable AI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Artificial Intelligence/on_the_opportunities_and_risks_of_foundation_models">On the Opportunities and Risks of Foundation Models - 2021</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Blockchain</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/Chainlink">Chainlink</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/Ethereum">Ethereum</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/Polkadot">Polkadot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Blockchain/Solidity">Solidity</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">C++</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/C++/pcal">C++</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Cryptography</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Cryptography/overview">Cryptography</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Data</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Data/data_science">Data Thoughts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Data/fighting_churn_with_data">Churn</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Database</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Database/Oracle">Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Database/database_internals">Database Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Database/mongodb">MongoDB</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Design</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Design/ddd">Domain Driven Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Design/microservices">Microservices Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Design/software_architecture_fundamentals">Software Architecture</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Docker/">Docker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Economics</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Economics/principles_of_economics">Principles of Economics</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/Flutter/">Flutter Basics</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/Git/">Git Command</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Git/gitignore">Gitignore</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Graph</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Graph/graph-database">Graph Database Basics</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Kafka &amp; Spark</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Kafka &amp; Spark/hadoop">Hadoop 基础知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Kafka &amp; Spark/kafka">Kafka &amp; Zookeeper 基础知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Kafka &amp; Spark/spark">Spark 基础知识</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Math</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Math/category_theory">Category Theory</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Music</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Music/Practice">Practice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Music/Theory">Theory</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Python</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Python/re">Regular Expression</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/SwiftUI/">Swift UI</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Typescript &amp; Javascript</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Typescript &amp; Javascript/eventloop">Event Loop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Typescript &amp; Javascript/typescript">Developing</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Hello, World!</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Flutter Basics</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Flutter Basics</h1></header><p>Update 2023/03/18</p><p>Tips: regex replace workaround for mdx:</p><p>Replace: <!-- -->`<!-- -->``((.|\n)*?)```</p><p>With: <!-- -->`<!-- -->``jsx title=&quot;Code&quot;$1```</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="初探flutter">初探Flutter<a href="#初探flutter" class="hash-link" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="flutter-安装">Flutter 安装<a href="#flutter-安装" class="hash-link" title="Direct link to heading">​</a></h4><p>如果是mac系统的话，要先装个xcode</p><p>然后根据</p><p><a href="https://dart.dev/get-dart" target="_blank" rel="noopener noreferrer">Get the Dart SDK | Dart</a></p><p>安装dart</p><p>教程：<a href="https://learning.oreilly.com/videos/learn-flutter-and/9781789951998/9781789951998-video1_2/" target="_blank" rel="noopener noreferrer">What Is Flutter? | Learn Flutter and Dart to Build iOS and Android Apps (2022) (oreilly.com)</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="flutter是啥">Flutter是啥？<a href="#flutter是啥" class="hash-link" title="Direct link to heading">​</a></h4><p>Flutter就是一种工具，一种能够用同一份代码构建不同环境的原生App的工具。</p><p><img loading="lazy" alt="image-20221209195008679" src="/assets/images/image-20221209195008679-ba0c2e7684d8bd67cebdc62d78e69227.png" width="1788" height="902" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dart-是啥">Dart 是啥?<a href="#dart-是啥" class="hash-link" title="Direct link to heading">​</a></h4><p>404开发，专门用来开发前端UI的语言</p><p><img loading="lazy" alt="image-20221209195116375" src="/assets/images/image-20221209195116375-d18470de7b620919b9c137a95561a63c.png" width="1394" height="834" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="flutter-简介">Flutter 简介<a href="#flutter-简介" class="hash-link" title="Direct link to heading">​</a></h4><p>Flutter是基于Dart编写的一个框架。</p><p><img loading="lazy" alt="image-20221209195233540" src="/assets/images/image-20221209195233540-fa97480ee34deef9172b9506de854df6.png" width="1620" height="676" class="img_ev3q"></p><p>组件是树状结构的（目前看来好像和Html树有点像）</p><p><img loading="lazy" alt="image-20221209195431265" src="/assets/images/image-20221209195431265-c5d779f4f4d602f8402c42626ff0920c.png" width="1694" height="834" class="img_ev3q"></p><p>同时，Flutter是完全用code控制组件的，没有DnD，没有UI editor。Flutter的sdk会把dart code编译为平台的Native code。</p><p><img loading="lazy" alt="image-20221209195929742" src="/assets/images/image-20221209195929742-7099615980e80fe16bf89b4be72f2c6e.png" width="2710" height="1556" class="img_ev3q"></p><p>并且，这个编译是不使用Platform Primitives的，也就是Qt、ReactNative使用的跨平台方式，而是直接控制绘图。这样可以最大限度保证各个平台上的ui是一致的。</p><p><img loading="lazy" alt="image-20221209200122963" src="/assets/images/image-20221209200122963-107c04e326333f1fa1c3184828e5cffa.png" width="2864" height="1584" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="flutter-vs-react-native-vs-ionic">Flutter vs React Native vs Ionic<a href="#flutter-vs-react-native-vs-ionic" class="hash-link" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="image-20221209233646510" src="/assets/images/image-20221209233646510-598d1d0688fcae782ff893bc00a824ce.png" width="1750" height="1034" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dependency">Dependency<a href="#dependency" class="hash-link" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="image-20221210114702050" src="/assets/images/image-20221210114702050-739cf08b45d94a0f6863fe103515584b.png" width="1264" height="72" class="img_ev3q"></p><p>flutter packages get </p><p>获取pubspec.yaml里的依赖</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dart-语言">Dart 语言<a href="#dart-语言" class="hash-link" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-variables">变量 Variables<a href="#变量-variables" class="hash-link" title="Direct link to heading">​</a></h3><p>这下面几个都是等价的：</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Bob&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token known-class-name class-name">String</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Bob&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>var里面存了一个对String的实例&quot;Bob&quot;的引用。如果要赋值其他类型，就不可以。这个其实也很好理解，因为dart最终是需要编译成下游app所使用的语言的，如android使用的Java，苹果使用的Swift，Windows使用的C++，Linux使用的C等。这些下游的语言几乎都是静态类型的（包括Swift），因此Dart也很难具备类似JS的动态类型的特性。</p><p>如果是没有null-safety（在dart 3中即将淘汰），那么变量的默认值就是null。否则必须赋一个初始值，不能为空。</p><p>如果需要bypass这个非空检查，那么就在前面加上<code>late</code>。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="final">Final<a href="#final" class="hash-link" title="Direct link to heading">​</a></h4><p>Final和Const有什么区别？这两个好像都是初始化后就无法修改了。按照dart的官方文档，Instance的变量不能是const，只能是final。否则会报下面的错：</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">Only</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> fields can be declared </span><span class="token keyword module" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property-access maybe-class-name">Try</span><span class="token plain"> declaring the field </span><span class="token keyword module" style="color:#00009f">as</span><span class="token plain"> final</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> or adding the keyword </span><span class="token string" style="color:#e3116c">&#x27;static&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>因为实例是运行时创建的，因此不可能是静态的变量。（否则就是类变量了，类变量可以为const）</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  final double x</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  final double y</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token known-class-name class-name">String</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Point&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter keyword" style="color:#00009f">this</span><span class="token parameter punctuation" style="color:#393A34">.</span><span class="token parameter property-access">x</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> </span><span class="token parameter keyword" style="color:#00009f">this</span><span class="token parameter punctuation" style="color:#393A34">.</span><span class="token parameter property-access">y</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> </span><span class="token parameter known-class-name class-name">String</span><span class="token parameter"> otherParam</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这里如果定义为了final，且没有初始化，那么就要在构造函数里加上。如果已经像const那样初始化过了，就不加。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="collection">Collection<a href="#collection" class="hash-link" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="list">List<a href="#list" class="hash-link" title="Direct link to heading">​</a></h4><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="print">Print<a href="#print" class="hash-link" title="Direct link to heading">​</a></h5><p>这里的list相当于<code>List&lt;int&gt;</code>类型。这里的<code>List</code>默认是支持打印的，但是Object是不支持的。</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">List</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">int</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"> list = [1, 2, 3];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  print(list);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  print(Point(list[0].toDouble(), list[1].toDouble()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">// Console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">❯ dart demo.dart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">[1, 2, 3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">Instance of &#x27;Point&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>给Object 加上ToString之后，就能正常打印了：</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  final double x</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  final double y</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token known-class-name class-name">String</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Point&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token known-class-name class-name">String</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;x:${x}, y:${y}&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter keyword" style="color:#00009f">this</span><span class="token parameter punctuation" style="color:#393A34">.</span><span class="token parameter property-access">x</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> </span><span class="token parameter keyword" style="color:#00009f">this</span><span class="token parameter punctuation" style="color:#393A34">.</span><span class="token parameter property-access">y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Console</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">❯ dart demo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">dart</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="const-不能赋值">Const 不能赋值<a href="#const-不能赋值" class="hash-link" title="Direct link to heading">​</a></h5><p>下面的代码在js里可以运行：</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>❯ node demo.js
<!-- -->[ 3, 3, 4 ]</p><p>但是在dart中，是不支持这样的。</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> constantList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// constantList[1] = 1; // This line will cause an error.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="spread-operators">Spread operators<a href="#spread-operators" class="hash-link" title="Direct link to heading">​</a></h5><p>在赋值的时候非常好用。</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> list2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">assert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>还可以通过加上?来避免冗长的非空判断。</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> list2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token operator" style="color:#393A34">?</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">assert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>注意，以上的<code>assert</code>都只对debug模式下生效，生产环境是无效的。</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="collection-if-collection-for">Collection if, collection for<a href="#collection-if-collection-for" class="hash-link" title="Direct link to heading">​</a></h5><p>Collection if:</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> nav </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Home&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Furniture&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Plants&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">promoActive</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Outlet&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Collection for:</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> listOfInts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> listOfStrings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;#0&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> listOfInts</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;#$i&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">assert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">listOfStrings</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;#1&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sets">Sets<a href="#sets" class="hash-link" title="Direct link to heading">​</a></h4><p>集合类型，同样支持collection if</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">List</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">int</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"> list = [4, 5, 6];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">var halogens = </span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text">;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">print(halogens);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>❯ dart demo.dart
{1, 2, 3, 4, 5, 6}</p><p>也支持 spread :</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">halogens</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>❯ dart demo.dart
<!-- -->[1, 2, 3, 4, 5, 6]</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="初始化">初始化<a href="#初始化" class="hash-link" title="Direct link to heading">​</a></h5><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">String</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text">;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">// Set&lt;String&gt; names = {}; // This works, too.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">// var names = {}; // Creates a map, not a set.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="添加元素">添加元素<a href="#添加元素" class="hash-link" title="Direct link to heading">​</a></h5><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> elements </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">String</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text">;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">elements.add(&#x27;fluorine&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">elements.addAll(halogens);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="map">Map<a href="#map" class="hash-link" title="Direct link to heading">​</a></h4><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> gifts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Key:    Value</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&#x27;first&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;partridge&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&#x27;second&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;turtledoves&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&#x27;fifth&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;golden rings&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> nobleGases </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;helium&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">10</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;neon&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">18</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;argon&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="typedef">Typedef<a href="#typedef" class="hash-link" title="Direct link to heading">​</a></h3><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">typedef </span><span class="token maybe-class-name">Compare</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">T</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"> = int Function(T a, T b);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">int sort(int a, int b) =&gt; a - b;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">void main() </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">assert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sort is </span><span class="token maybe-class-name">Compare</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">int</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">); // True!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>用xx is type就可以很方便地判断类型。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="generics">Generics<a href="#generics" class="hash-link" title="Direct link to heading">​</a></h3><p>泛型最常见的就是前面提到的Collection类型。</p><p>值得注意的是，flutter中的泛型是reified（具象化）的，在运行时也携带着这些类型信息。</p><p>而Java的泛型是erasure（擦除）的，在运行时不携带信息。因此在Java中，你能判断一个对象是不是列表，但无法判断是否是List\&lt;String<!-- -->&gt;<!-- -->。在flutter中是可以判断的：</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">String</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">[];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">names.addAll([&#x27;Seth&#x27;, &#x27;Kathy&#x27;, &#x27;Lars&#x27;]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">print(names is List</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">String</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">); // true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="type-system">Type System<a href="#type-system" class="hash-link" title="Direct link to heading">​</a></h3><p>Flutter有非常强大的static analyzer，可以对代码做静态类型检查。与此同时，由于之前提到的reified generics，Flutter也可以做运行时检查。</p><p>下面的代码就会报runtime error:</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">List</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Animal</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"> animals = [Dog()];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  List</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Cat</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"> cats = animals as List</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Cat</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-inference">Type Inference<a href="#type-inference" class="hash-link" title="Direct link to heading">​</a></h4><p>当分析器无法得出变量的类型时，默认都是<code>dynamic</code>类型。</p><p>同样，初始化时的变量类型会决定之后的赋值是否合法。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="function">Function<a href="#function" class="hash-link" title="Direct link to heading">​</a></h3><p>在Dart中，function也是一个对象Function。<a href="https://api.dart.dev/stable/2.19.5/dart-core/Function-class.html" target="_blank" rel="noopener noreferrer">https://api.dart.dev/stable/2.19.5/dart-core/Function-class.html</a></p><p>几个takeaway:</p><ul><li>Function可以省略类型，实际上是让编译器推测类型</li><li>=&gt; 箭头函数作为{ return expr; }的简写</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">parameters<a href="#parameters" class="hash-link" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="named-parameters">Named parameters<a href="#named-parameters" class="hash-link" title="Direct link to heading">​</a></h5><p><em>paramName</em>: <em>value</em> 的形式，都是默认可省略的，除非添加required。与此同时，如果不赋默认值，就是null。</p><p>required parameter也是可以为空的：</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Scrollbar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required </span><span class="token maybe-class-name">Widget</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> child</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="匿名函数">匿名函数<a href="#匿名函数" class="hash-link" title="Direct link to heading">​</a></h4><p>形如</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token maybe-class-name">Type</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> param1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> …</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  codeBlock</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如：</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;apples&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bananas&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;oranges&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toUpperCase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;$item: ${item.length}&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-handling">Error handling<a href="#error-handling" class="hash-link" title="Direct link to heading">​</a></h3><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ···</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> on </span><span class="token maybe-class-name">Exception</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Exception details:\n $e&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Exception details:\n $e&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Stack trace:\n $s&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这其中，S是StackTrace。</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">misbehave</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dynamic foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">foo</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Runtime error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;misbehave() partially handled ${e.runtimeType}.&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rethrow</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Allow callers to see the exception.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>同样，Dart也支持rethrow.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="classes--objects">Classes &amp; Objects<a href="#classes--objects" class="hash-link" title="Direct link to heading">​</a></h3><p>这里只写一部分我觉得比较值得记的：</p><p>Getter和Setter, @override等和java比较类似。</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="extend-class">Extend class<a href="#extend-class" class="hash-link" title="Direct link to heading">​</a></h5><p>extend就是创建子类。</p><p>如果需要重写父类的方法，就加上@override装饰器。</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="extension">Extension<a href="#extension" class="hash-link" title="Direct link to heading">​</a></h5><p>往已有的类（如库等）加上自定义的方法</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">extension </span><span class="token maybe-class-name">NumberParsing</span><span class="token plain"> on </span><span class="token known-class-name class-name">String</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int </span><span class="token function" style="color:#d73a49">parseInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> int</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ···</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>就可以用<code>&#x27;42&#x27;.parseInt()</code>了</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="mixins">Mixins<a href="#mixins" class="hash-link" title="Direct link to heading">​</a></h4><p>很有意思的一个特性，虽然感觉其实用的地方不多。这个算一个语法糖吧，我个人还是更倾向多个子类去继承父类，而不是用Mixin</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Musician</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Performer</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token maybe-class-name">Musical</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ···</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Maestro</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token maybe-class-name">Musical</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Aggressive</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Demented</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function maybe-class-name" style="color:#d73a49">Maestro</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter known-class-name class-name">String</span><span class="token parameter"> maestroName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> maestroName</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    canConduct </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mixin </span><span class="token maybe-class-name">Musical</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  bool canPlayPiano </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  bool canCompose </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  bool canConduct </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">entertainMe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">canPlayPiano</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Playing piano&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">canConduct</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Waving hands&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Humming to self&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Mixin简而言之就很类似于一些条件耦合的代码，如switch case等，只不过是通过修改类的一些属性来展示出完全不同的行为。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async">Async<a href="#async" class="hash-link" title="Direct link to heading">​</a></h3><p>经典的async await，但是和单路复用/线程池有区别，下面Isolate里会详细说。而Dart中async返回类型是Future。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="await-for-loop">await for loop<a href="#await-for-loop" class="hash-link" title="Direct link to heading">​</a></h4><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">final request </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> requestServer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">handleRequest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="isolate">Isolate<a href="#isolate" class="hash-link" title="Direct link to heading">​</a></h3><p>每个isolate都具有自己的内存堆，其他的isolate无法访问。因此Dart中就没有mutex和lock。</p><p><img loading="lazy" alt="A more general figure showing that any isolate runs some code, optionally responds to events, and then exits" src="data:image/png;base64,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" width="163" height="253" class="img_ev3q"></p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="event-loop">Event loop<a href="#event-loop" class="hash-link" title="Direct link to heading">​</a></h5><p>这里的Event loop是这样：主线程执行某些任务，然后执行完之后会不断搜索需要响应的事件。</p><p><img loading="lazy" alt="A figure showing the main isolate executing event handlers, one by one" src="/assets/images/event-handling-1928c6ccd4a54af5621597f686936fd3.png" width="588" height="295" class="img_ev3q"></p><p>和v8的call stack/callback queue非常类似。因此，这种设计也面临一个问题，即每个任务都应该足够小，不然就会阻塞队列。</p><p>对于大任务，Dart采取了background isolate的方式，而这两个isolate之间通过Message通信。Send message对信息的内容有要求，具体可以看这个链接</p><p><a href="https://api.dart.dev/stable/2.19.5/dart-isolate/SendPort/send.html" target="_blank" rel="noopener noreferrer">https://api.dart.dev/stable/2.19.5/dart-isolate/SendPort/send.html</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="一些特性">一些特性<a href="#一些特性" class="hash-link" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sound-null-safety">Sound null safety<a href="#sound-null-safety" class="hash-link" title="Direct link to heading">​</a></h4><p><a href="https://dart.dev/null-safety" target="_blank" rel="noopener noreferrer">Sound null safety | Dart</a></p><p>在Dart 2.12 Flutter 2.0之后的版本 都支持这个特性。</p><p>在null-safe 模式下，变量都是不可以为空的。</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// In null-safe Dart, none of these can ever be null.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Inferred to be an int.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token known-class-name class-name">String</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getFileName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">final b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果要显式说明一个变量可能为空，就要加上问号?</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> aNullableInt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="项目文件夹">项目文件夹<a href="#项目文件夹" class="hash-link" title="Direct link to heading">​</a></h4><p><strong>.idea</strong> android studio 的配置，其他jb家的ide也有</p><p><strong>.vscode</strong> vscode 配置</p><p><strong>android</strong> flutter编译后，会把目标代码注入到这个文件夹</p><p><strong>build</strong> flutter程序编译后的输出文件夹</p><p><strong>ios</strong> xcode项目，和android一样flutter编译后，会把目标代码注入到这个文件夹</p><p>以上都是passive folder，基本不需要改动</p><p><strong>lib</strong> 主要的改动都在这里</p><p><strong>test</strong> 编写程序的自动化测试</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="特殊文件">特殊文件<a href="#特殊文件" class="hash-link" title="Direct link to heading">​</a></h4><p><strong>.metadata</strong> flutter 自动生成的一些信息，一般不需要改动</p><p><strong>.package</strong> flutter 自动生成的依赖信息，一般不需要改动</p><p><strong>&lt;project_name&gt;.iml</strong> flutter 自动生成的项目配置信息，不需要改动</p><p><strong>.pubspec.yaml</strong> 需要改动，管理项目的依赖（项目需要使用哪些第三方的包）</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dart">Dart<a href="#dart" class="hash-link" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="image-20221210143922535" src="/assets/images/image-20221210143922535-b90d4352fd1631ff9801837fd8eadc5e.png" width="468" height="198" class="img_ev3q"></p><p>constructor 可以如上图简写</p><p>对于每个Widget, flutter 都会call build(context) 所以build是每个Widget都必须有的。</p><p>Arrow function也可以用，但是和js不同的地方在于Dart的Arrow function只能有一行，后面不能跟着花括号。</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Code</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">runApp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MyApp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Widget 分为Layout(invisible)和 Visible, 和React很像</p><p><img loading="lazy" alt="image-20221210180118057" src="/assets/images/image-20221210180118057-f7049253080e0783a2f90650cc5a8712.png" width="1834" height="882" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="firebase">Firebase<a href="#firebase" class="hash-link" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="image-20230318124942565" src="/assets/images/image-20230318124942565-a80b801102cf58e7e0ae28dd03be1c9a.png" width="2476" height="1170" class="img_ev3q"></p><p>Firebase是谷歌提供的一系列云服务，囊括了存储、验证、推送等功能。</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="安装步骤">安装步骤<a href="#安装步骤" class="hash-link" title="Direct link to heading">​</a></h5><p>Firebase CLI</p><p><a href="https://firebase.google.com/docs/cli?authuser=0#mac-linux-auto-script" target="_blank" rel="noopener noreferrer">https://firebase.google.com/docs/cli?authuser=0#mac-linux-auto-script</a></p><p>这里需要把下载下来的二进制文件放到/opt/homebrew/bin里</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Economics/principles_of_economics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Principles of Economics</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Git/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Git Command</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#初探flutter" class="table-of-contents__link toc-highlight">初探Flutter</a></li><li><a href="#dart-语言" class="table-of-contents__link toc-highlight">Dart 语言</a><ul><li><a href="#变量-variables" class="table-of-contents__link toc-highlight">变量 Variables</a></li><li><a href="#collection" class="table-of-contents__link toc-highlight">Collection</a></li><li><a href="#typedef" class="table-of-contents__link toc-highlight">Typedef</a></li><li><a href="#generics" class="table-of-contents__link toc-highlight">Generics</a></li><li><a href="#type-system" class="table-of-contents__link toc-highlight">Type System</a></li><li><a href="#function" class="table-of-contents__link toc-highlight">Function</a></li><li><a href="#error-handling" class="table-of-contents__link toc-highlight">Error handling</a></li><li><a href="#classes--objects" class="table-of-contents__link toc-highlight">Classes &amp; Objects</a></li><li><a href="#async" class="table-of-contents__link toc-highlight">Async</a></li><li><a href="#isolate" class="table-of-contents__link toc-highlight">Isolate</a></li><li><a href="#一些特性" class="table-of-contents__link toc-highlight">一些特性</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>